<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>TV-aksjonen 2025</title>

    <link
      id="favicon"
      rel="icon"
      href="./assets/swimming_whale.gif"
      type="image/x-icon"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Press+Start+2P"
      rel="stylesheet"
    />
    <link
      href="./nes.css"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="./style.css" />
    <script src="./task.js" defer></script>
    <script
      src="https://rawgithub.com/kitao/divsugar/master/build/divsugar.js"
      defer
    ></script>
    <script src="./coin.js" defer></script>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.2/codemirror.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.2/theme/pastel-on-dark.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.2/addon/hint/show-hint.min.css"
    />
    <link rel="stylesheet" href="shader.css" />

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.2/codemirror.min.js"
      defer
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.2/mode/clike/clike.min.js"
      defer
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.2/addon/hint/show-hint.min.js"
      defer
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.2/addon/hint/anyword-hint.min.js"
      defer
    ></script>
    <script src="collectywalk.js" defer></script>
  </head>
  <body>
    <div id="overlay"></div>
    
<header>
  <ul>
    <li><i class="nes-icon trophy is-large"></i></li>
    <li>TV-aksjonen 2025</li>
    <li><i class="nes-icon trophy is-large"></i></li>
  </ul>
  <nav><ul><li><a class="nes-btn is-success" href="./index.html">Start!</a></li> <li><a class="nes-btn"" href="./x-plus-y.html">X+Y</a></li> <li><a class="nes-btn"" href="./shader-battle-3.html">Rings</a></li> <li><a class="nes-btn"" href="./soko-1.html">Play</a></li> <li><a class="nes-btn is-primary"" href="./collectywalk.html">Collection</a></li> <li><a class="nes-btn"" href="./soko-2.html">Game</a></li> <li><a class="nes-btn"" href="./shader-battle-4.html">Kaleidoish</a></li> <li><a class="nes-btn"" href="./moneyCollected.html">Submissions</a></li></ul></nav>
</header>
    <main>
      <div class="nes-container with-title is-centered">
        <p class="title">Collection route</p>
        <p>
          We've been doing some door-to-door walking and written down the route we took.
          We're going to make a report of it, but it looks like others have been writing down their routes there too and ours is kind of hard to make out.
          <a href="collectywalk.txt">The file with the route is here.</a>
        </p>
      </div>
      
      <div class="nes-container with-title is-centered">
        <p>
          Here's a similar but smaller example:
        </p>
        <pre>┌┐──┌┐│┌┐┌┌┐┌┐┌┐┌┐┌┐┌┐└─┌┐─│┌──┐┌└─┌┐─┌┐
┌└──┘└┘││└┘││││└┘└┘│││┌─┘└──┘┌┐│└┐┌┘└─┘│
│┐┌→───┘└┐┌┘│└┘│┌─│││└┘┌─┌┐┌┐┌┘│┌└┘┌─┐┌│
││└┐┌─┐─┐││┌┘┌─│└┐│└┘│┌┘┌┘│┌┘│││└──│││││
│┌─┘┌─│┌┘│││┐└─┘││└──┘└┐│┌┘└┐││└┐│┌┘│└┐│
┌┘───┐││─└─┘└┐└┐┐└┐┌───┘│└─┐│└┘││┌┘┌┘─└┐
└───┐└┘└─┐└─┐│─┘│┌┘└────┘─│││──┐└┘│└─┐││
│─┌│└──┐┌┘│┌┘│┌┐││┌┐──┌───┐│└┐┌┘┌││──└┐│
└┐└─┐┌─│└┐└┘┐└┘││└┘└─┐└┐┌─└┘│└┘┌┘│└───┘│
┌┘└─└┘┌┘││┌┐└─┌┘└┐──┐│││┌──┐││┌┘┌──────│
└─┌───┘─│││└─┌┘┐─└──┘└┐└┘┌─┘└─┘┌│┌─────┘
┌─┘─────┘││┌─┘─┘┌┐┌─┐┐└┐┌┘┌──┌─┘│└────┐┐
│───┐│┌┐┌┘│└────┘││┌┘└┐│││┌─┐│┌─└┐└─┐│││
└┐└┐│└┘││┌┘┌┐┌───└┐│┌─│└┘│││└┘└──┘┌┐│┌┘│
┌└┐│└─┐┌┘│┌┐└┘┌┌┐│└┘└┐└──┘│─┌───┐┌┘└┐└─┐
└┐│└─┐│││││└┐─┘││┌─┐┌┘─┌──└─┘┌┐│└┘┌┐└─┌┘
┌┘│┌┐│└┘││└─┘┌┐││└─┘│┐┌──┐─┐─│└┐│┌┐└─┌┘│
└┐└┘│┌─┐│└───┘││└┐┌─┘││┌┐│─└─┐│└┘││┌─┘││
│└┐││││└┐┌─┐┌──┘┌││┌─┐│┌┘│┌─┐└──┌┘└┘┌┐││
└─└┘└┘└─└┘─└┘───┘└─┘─└┘└─└┘│└───┘───┘│└┘</pre>
        <p>
          We know that we made an arrow when we started our walk and that we returned to where we started at the end.
          Here's the example with our walk highlighted:
        </p>
        <pre>┌┐──┌┐│<mark>┌</mark><mark>┐</mark>┌┌┐<mark>┌</mark><mark>┐</mark><mark>┌</mark><mark>┐</mark><mark>┌</mark><mark>┐</mark><mark>┌</mark><mark>┐</mark><mark>┌</mark><mark>┐</mark>└─<mark>┌</mark><mark>┐</mark>─│<mark>┌</mark><mark>─</mark><mark>─</mark><mark>┐</mark>┌└─┌┐─┌┐
┌└──┘└┘<mark>│</mark><mark>│</mark>└┘│<mark>│</mark><mark>│</mark><mark>│</mark><mark>└</mark><mark>┘</mark><mark>└</mark><mark>┘</mark><mark>│</mark><mark>│</mark><mark>│</mark><mark>┌</mark><mark>─</mark><mark>┘</mark><mark>└</mark><mark>─</mark><mark>─</mark><mark>┘</mark>┌┐<mark>│</mark>└┐┌┘└─┘│
│┐<mark>┌</mark><mark>→</mark><mark>─</mark><mark>─</mark><mark>─</mark><mark>┘</mark><mark>└</mark><mark>┐</mark>┌┘<mark>│</mark><mark>└</mark><mark>┘</mark>│┌─│<mark>│</mark><mark>│</mark><mark>└</mark><mark>┘</mark>┌─┌┐┌┐┌┘<mark>│</mark>┌└┘<mark>┌</mark><mark>─</mark><mark>┐</mark>┌│
││<mark>└</mark><mark>┐</mark>┌─┐─┐<mark>│</mark>│<mark>┌</mark><mark>┘</mark>┌─│└┐│<mark>└</mark><mark>┘</mark>│┌┘┌┘│┌┘││<mark>│</mark>└──<mark>│</mark>│<mark>│</mark>││
│<mark>┌</mark><mark>─</mark><mark>┘</mark>┌─│┌┘<mark>│</mark>│<mark>│</mark>┐└─┘││└──┘└┐│┌┘└┐││<mark>└</mark><mark>┐</mark>│<mark>┌</mark><mark>┘</mark>│<mark>└</mark><mark>┐</mark>│
<mark>┌</mark><mark>┘</mark>───┐││─<mark>└</mark><mark>─</mark><mark>┘</mark>└┐└┐┐└┐┌───┘│└─┐│└┘│<mark>│</mark><mark>┌</mark><mark>┘</mark>┌┘─<mark>└</mark><mark>┐</mark>
<mark>└</mark><mark>─</mark><mark>─</mark><mark>─</mark><mark>┐</mark>└┘└─┐└─┐│─┘│┌┘└────┘─│││──┐<mark>└</mark><mark>┘</mark>│└─┐│<mark>│</mark>
│─┌│<mark>└</mark><mark>─</mark><mark>─</mark><mark>┐</mark>┌┘│┌┘│┌┐││┌┐──┌───┐│└┐┌┘┌││──└┐<mark>│</mark>
└┐└─┐┌─<mark>│</mark>└┐└┘┐└┘││└┘└─┐└┐┌─└┘│└┘┌┘│└───┘<mark>│</mark>
┌┘└─└┘<mark>┌</mark><mark>┘</mark>││┌┐└─┌┘└┐──┐│││┌──┐││┌┘┌──────<mark>│</mark>
└─<mark>┌</mark><mark>─</mark><mark>─</mark><mark>─</mark><mark>┘</mark>─│││└─┌┘┐─└──┘└┐└┘┌─┘└─┘┌│<mark>┌</mark><mark>─</mark><mark>─</mark><mark>─</mark><mark>─</mark><mark>─</mark><mark>┘</mark>
<mark>┌</mark><mark>─</mark><mark>┘</mark>─────┘││┌─┘─┘┌┐┌─┐┐└┐┌┘┌──┌─┘│<mark>└</mark><mark>─</mark><mark>─</mark><mark>─</mark><mark>─</mark><mark>┐</mark>┐
<mark>│</mark>───┐│┌┐┌┘│└────┘││┌┘└┐│││┌─┐│┌─└┐└─┐│<mark>│</mark>│
<mark>└</mark><mark>┐</mark>└┐│└┘││┌┘┌┐┌───└┐│┌─│└┘│││└┘└──┘┌┐│<mark>┌</mark><mark>┘</mark>│
┌<mark>└</mark><mark>┐</mark>│└─┐┌┘│┌┐└┘┌<mark>┌</mark><mark>┐</mark>│└┘└┐└──┘│─┌───┐┌┘└┐<mark>└</mark><mark>─</mark><mark>┐</mark>
└┐<mark>│</mark>└─┐│││││└┐─┘<mark>│</mark><mark>│</mark>┌─┐┌┘─┌──└─┘┌┐│└┘┌┐└─<mark>┌</mark><mark>┘</mark>
┌┘<mark>│</mark><mark>┌</mark><mark>┐</mark>│└┘││└─┘┌┐<mark>│</mark><mark>│</mark>└─┘│┐<mark>┌</mark><mark>─</mark><mark>─</mark><mark>┐</mark>─┐─│└┐│<mark>┌</mark><mark>┐</mark>└─<mark>┌</mark><mark>┘</mark>│
└┐<mark>└</mark><mark>┘</mark><mark>│</mark><mark>┌</mark><mark>─</mark><mark>┐</mark>│└───┘│<mark>│</mark><mark>└</mark><mark>┐</mark>┌─┘│<mark>│</mark>┌┐<mark>│</mark>─└─┐│└┘<mark>│</mark><mark>│</mark><mark>┌</mark><mark>─</mark><mark>┘</mark>││
│└┐│<mark>│</mark><mark>│</mark>│<mark>└</mark><mark>┐</mark><mark>┌</mark><mark>─</mark><mark>┐</mark><mark>┌</mark><mark>─</mark><mark>─</mark><mark>┘</mark>┌<mark>│</mark>│<mark>┌</mark><mark>─</mark><mark>┐</mark><mark>│</mark>┌┘<mark>│</mark><mark>┌</mark><mark>─</mark><mark>┐</mark>└──<mark>┌</mark><mark>┘</mark><mark>└</mark><mark>┘</mark>┌┐││
└─└┘<mark>└</mark><mark>┘</mark>└─<mark>└</mark><mark>┘</mark>─<mark>└</mark><mark>┘</mark>───┘<mark>└</mark><mark>─</mark><mark>┘</mark>─<mark>└</mark><mark>┘</mark>└─<mark>└</mark><mark>┘</mark>│<mark>└</mark><mark>─</mark><mark>─</mark><mark>─</mark><mark>┘</mark>───┘│└┘</pre>
        <p>
          If we count the highlighted tiles, we get 216. That's the length of our walk.
          We want to find the length of the larger, actual walk.
        </p>
      </div>

      <div class="nes-container with-title is-centered">
        <p>
          Below is various example code.
          It's possible to solve the puzzle by implementing the rest of the <code>step</code> and <code>solve</code> functions.
          Or you can take some other approach :)
        </p>
      </div>

      <div class="nes-container with-title is-centered">
        <p class="title">Show Me The Code!</p>
        <textarea id="code" name="code" class="nes-textarea" rows="12">// we have the example:
// and also the full text
          
const examplemap = read(example);
const fullmap = read(text);

print(`example: ${examplemap.size}, full: ${fullmap.size}`);

// example and full text have the same start position:
const start = point(3, 2);
print([start, examplemap.get(start)]);
print([start, fullmap.get(start)]);

// there's the functions N, S, E, W, for adjacent positions:
// there's the functions N, S, E, W, for adjacent positions:
const positions = [start];
for (let i = 0; i < 5; i++) {
    positions.push(E(positions.at(-1)));
}
print(positions);
print(positions.map(p => examplemap.get(p)));


// it's possible to paint over parts of the map with set
examplemap.set(start, "X");
printmap(examplemap);

// some potentially useful characters and relations between them:
const startchar = "→";
const north = { forward: "│", left: "┐", right: "┌" };
const east = { forward: "─", left: "┘", right: "┐" };
const south = { forward: "│", left: "└", right: "┘" };
const west = { forward: "─", left: "┌", right: "└" };

// tip: try solving for example first
// and then use the same code on the full thing

const step = (map, state) => {
    const pos = state.pos;
    const dir = state.dir;
    const c = map.get(pos);
    return { pos: E(pos), dir: north };
};


// test the step function:
const examplestart = { pos: start, dir: east };
print(examplestart);
print(step(examplemap, examplestart));

const solve = (map) => {
    // set an inital state
    // let state = { pos: ..., dir: ... };

    // answer is less than a million
    // so avoid infinite loop by stopping there
    for (i = 1; i < 1000000; i++) {
        // update the state
        // maybe check an end-condition and return i
    }
    return i;
};

print(solve(examplemap));
// if it gets the correct answer for the example
// it _should_ get the correct answer for the full map as well:
// print(solve(fullmap));
</textarea>
        <p>
          <button type="button" id="compile-code" class="nes-btn is-error">
            Compile!
          </button>
        </p>
      </div>

      <div class="nes-container with-title is-centered">
        <p class="title">Output</p>
        <ol id="output-list"></ol>
      </div>

      <div class="nes-container with-title is-centered">
        <p class="title">Submit Your Solution</p>
        <p>
          What is the length the walk we documentet in <a href="collectywalk.txt">the provided file</a>?
        </p>
        <p>Can't log in/submit stuff on this version.Less static version possibly at <a href="https://kodemedmening.computas.com" target="_blank">https://kodemedmening.computas.com</a>.</p>
      </div>
    </main>

    
<footer>
  <i class="nes-icon heart is-small"></i> by <a href="https://computas.com/">Computas</a> - 
  Thanks <a href="https://nostalgic-css.github.io/NES.css/">NES.css</a>!
</footer>
  </body>
</html>
